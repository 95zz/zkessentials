Please refer to 
http://books.zkoss.org/wiki/Tutorial/Chapter_8:_Authentication